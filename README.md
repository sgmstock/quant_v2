# é‡åŒ–äº¤æ˜“ç³»ç»Ÿ v2.0

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªåŸºäºäº‹ä»¶é©±åŠ¨æ¶æ„çš„ç°ä»£åŒ–é‡åŒ–äº¤æ˜“ç³»ç»Ÿï¼Œé‡‡ç”¨æ¸…æ™°çš„åˆ†å±‚è®¾è®¡ï¼Œæ”¯æŒå¤šæ•°æ®æºæ¥å…¥å’Œä¸°å¯Œçš„ç­–ç•¥å¼€å‘ã€‚

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
quant_v2/
â”œâ”€â”€ ğŸ“ data_management/              # æ•°æ®ç®¡ç†å±‚
â”‚   â”œâ”€â”€ sources/                     # æ•°æ®æº
â”‚   â”‚   â”œâ”€â”€ market_data_source.py    # è¡Œæƒ…æ•°æ®æº
â”‚   â”‚   â”œâ”€â”€ fundamental_data_source.py # åŸºæœ¬é¢æ•°æ®æºï¼ˆé™å”®è‚¡ã€è´¢æŠ¥ç­‰ï¼‰
â”‚   â”‚   â””â”€â”€ news_data_source.py      # æ–°é—»æ•°æ®æº
â”‚   â”œâ”€â”€ fundamental_data/            # åŸºæœ¬é¢æ•°æ®å¤„ç†
â”‚   â”‚   â”œâ”€â”€ stock_restrictions.py   # é™å”®è‚¡æ•°æ®ç»“æ„
â”‚   â”‚   â”œâ”€â”€ financial_reports.py     # è´¢æŠ¥æ•°æ®ç»“æ„
â”‚   â”‚   â””â”€â”€ shareholder_data.py     # è‚¡ä¸œæ•°æ®ç»“æ„
â”‚   â”œâ”€â”€ database_manager.py          # æ•°æ®åº“ç®¡ç†
â”‚   â”œâ”€â”€ data_processor.py           # æ•°æ®å¤„ç†å™¨
â”‚   â””â”€â”€ data_validator.py           # æ•°æ®éªŒè¯å™¨
â”œâ”€â”€ ğŸ“ strategies/                   # ç­–ç•¥å±‚
â”‚   â”œâ”€â”€ base_strategy.py            # ç­–ç•¥åŸºç±»
â”‚   â”œâ”€â”€ sector_selection/           # æ¿å—é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ sector_selector.py      # æ¿å—é€‰æ‹©å™¨
â”‚   â”‚   â”œâ”€â”€ sector_rotation.py      # æ¿å—è½®åŠ¨ç­–ç•¥
â”‚   â”‚   â””â”€â”€ sector_momentum.py      # æ¿å—åŠ¨é‡ç­–ç•¥
â”‚   â”œâ”€â”€ stock_selection/            # ä¸ªè‚¡é€‰æ‹©
â”‚   â”‚   â”œâ”€â”€ factor_model.py         # å¤šå› å­æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ technical_screener.py   # æŠ€æœ¯é¢ç­›é€‰
â”‚   â”‚   â””â”€â”€ fundamental_screener.py # åŸºæœ¬é¢ç­›é€‰
â”‚   â”œâ”€â”€ trading_strategies/         # äº¤æ˜“ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ momentum_strategy.py    # åŠ¨é‡ç­–ç•¥
â”‚   â”‚   â”œâ”€â”€ mean_reversion.py       # å‡å€¼å›å½’ç­–ç•¥
â”‚   â”‚   â””â”€â”€ breakout_strategy.py    # çªç ´ç­–ç•¥
â”‚   â””â”€â”€ signal_generator.py         # ä¿¡å·ç”Ÿæˆå™¨
â”œâ”€â”€ ğŸ“ applications/                 # åº”ç”¨å±‚
â”‚   â”œâ”€â”€ dashboard/                  # å¯è§†åŒ–ç•Œé¢
â”‚   â”‚   â”œâ”€â”€ sector_viewer.py        # æ¿å—é€‰æ‹©å¯è§†åŒ–
â”‚   â”‚   â”œâ”€â”€ stock_screener_viewer.py # ä¸ªè‚¡ç­›é€‰å¯è§†åŒ–
â”‚   â”‚   â”œâ”€â”€ portfolio_viewer.py     # ç»„åˆå¯è§†åŒ–
â”‚   â”‚   â””â”€â”€ backtest_viewer.py      # å›æµ‹ç»“æœå¯è§†åŒ–
â”‚   â”œâ”€â”€ backtest/                   # å›æµ‹å¼•æ“
â”‚   â”œâ”€â”€ realtime/                   # å®æ—¶äº¤æ˜“
â”‚   â””â”€â”€ analysis/                   # åˆ†æå·¥å…·
â”œâ”€â”€ ğŸ“ core/                        # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ event_engine.py            # äº‹ä»¶é©±åŠ¨å¼•æ“
â”‚   â”œâ”€â”€ execution/                 # äº¤æ˜“æ‰§è¡Œå±‚
â”‚   â”‚   â”œâ”€â”€ account.py             # è´¦æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ position_manager.py    # æŒä»“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ risk_manager.py        # é£é™©ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ order_manager.py       # è®¢å•ç®¡ç†
â”‚   â”‚   â””â”€â”€ gateways/              # äº¤æ˜“æ¥å£
â”‚   â”‚       â”œâ”€â”€ base_gateway.py     # ç½‘å…³åŸºç±»
â”‚   â”‚       â”œâ”€â”€ paper_trading_gateway.py # æ¨¡æ‹Ÿäº¤æ˜“ç½‘å…³
â”‚   â”‚       â”œâ”€â”€ real_broker_gateway.py   # å®ç›˜äº¤æ˜“ç½‘å…³
â”‚   â”‚       â””â”€â”€ binance_gateway.py  # å¸å®‰ç½‘å…³ï¼ˆç¤ºä¾‹ï¼‰
â”‚   â””â”€â”€ utils/                     # æ ¸å¿ƒå·¥å…·
â”‚       â”œâ”€â”€ indicators.py          # æŠ€æœ¯æŒ‡æ ‡
â”‚       â”œâ”€â”€ logger.py              # æ—¥å¿—ç®¡ç†
â”‚       â””â”€â”€ helpers.py             # è¾…åŠ©å‡½æ•°
â”œâ”€â”€ ğŸ“ config/                      # é…ç½®ç®¡ç†
â”œâ”€â”€ ğŸ“ tests/                       # æµ‹è¯•æ¨¡å—
â”œâ”€â”€ ğŸ“ docs/                        # æ–‡æ¡£
â”œâ”€â”€ ğŸ“ data/                        # æ•°æ®æ–‡ä»¶
â”œâ”€â”€ ğŸ“ logs/                        # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ ğŸ“ results/                     # ç»“æœè¾“å‡º
â””â”€â”€ ğŸ“ legacy/                      # å†å²ä»£ç 
```

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ“Š æ•°æ®ç®¡ç†
- **å¤šæ•°æ®æºæ”¯æŒ**: æ”¯æŒå¤šç§æ•°æ®æºæ¥å…¥
- **åŸºæœ¬é¢æ•°æ®**: é™å”®è‚¡ã€è´¢æŠ¥ã€è‚¡ä¸œæ•°æ®ç­‰
- **æ•°æ®æ ‡å‡†åŒ–**: ç»Ÿä¸€çš„æ•°æ®æ ¼å¼å’Œå¤„ç†æµç¨‹
- **æ•°æ®éªŒè¯**: è‡ªåŠ¨æ•°æ®è´¨é‡æ£€æŸ¥

### ğŸ§  ç­–ç•¥å¼€å‘
- **äº‹ä»¶é©±åŠ¨**: åŸºäºäº‹ä»¶é©±åŠ¨çš„ç­–ç•¥æ¡†æ¶
- **æ¿å—é€‰æ‹©**: æ™ºèƒ½æ¿å—è½®åŠ¨å’Œé€‰æ‹©
- **ä¸ªè‚¡ç­›é€‰**: å¤šå› å­é€‰è‚¡æ¨¡å‹
- **ä¿¡å·ç”Ÿæˆ**: ç»Ÿä¸€çš„ä¿¡å·ç”Ÿæˆæœºåˆ¶

### âš¡ äº¤æ˜“æ‰§è¡Œ
- **é£é™©æ§åˆ¶**: å¤šå±‚æ¬¡é£é™©ç®¡ç†
- **è®¢å•ç®¡ç†**: æ™ºèƒ½è®¢å•æ‰§è¡Œ
- **è´¦æˆ·ç®¡ç†**: èµ„é‡‘å’ŒæŒä»“ç®¡ç†
- **æ¥å£é€‚é…**: æ”¯æŒå¤šç§äº¤æ˜“æ¥å£

### ğŸ“ˆ å¯è§†åŒ–åˆ†æ
- **æ¿å—åˆ†æ**: æ¿å—é€‰æ‹©å’Œè½®åŠ¨å¯è§†åŒ–
- **ä¸ªè‚¡ç­›é€‰**: å¤šå› å­é€‰è‚¡ç•Œé¢
- **å›æµ‹åˆ†æ**: ç­–ç•¥å›æµ‹ç»“æœå±•ç¤º
- **å®æ—¶ç›‘æ§**: å®æ—¶äº¤æ˜“ç›‘æ§

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒå‡†å¤‡

```bash
# ç¡®ä¿ä½¿ç”¨ Python 3.11+
python --version

# å®‰è£…ä¾èµ–
pip install -r requirements.txt
```

### 2. é…ç½®è®¾ç½®

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp config/config.yaml.example config/config.yaml

# ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼Œè®¾ç½®æ•°æ®æºAPIå¯†é’¥ç­‰
```

### 3. åˆå§‹åŒ–æ•°æ®åº“

```python
from data_management.database_manager import DatabaseManager

# åˆå§‹åŒ–æ•°æ®åº“
db_manager = DatabaseManager()
db_manager.init_database()
```

## ğŸ“š å¼€å‘æŒ‡å—

### äº‹ä»¶é©±åŠ¨æ¶æ„

ç³»ç»Ÿé‡‡ç”¨äº‹ä»¶é©±åŠ¨æ¶æ„ï¼Œæ ¸å¿ƒç»„ä»¶åŒ…æ‹¬ï¼š

1. **äº‹ä»¶å¼•æ“**: ç®¡ç†äº‹ä»¶å¾ªç¯å’Œåˆ†å‘
2. **äº‹ä»¶ç±»å‹**: å®šä¹‰å„ç§äº‹ä»¶ç±»å‹ï¼ˆTICK, BAR, SIGNAL, ORDERç­‰ï¼‰
3. **äº‹ä»¶ç›‘å¬å™¨**: å¤„ç†ç‰¹å®šç±»å‹çš„äº‹ä»¶
4. **äº‹ä»¶é˜Ÿåˆ—**: å¼‚æ­¥äº‹ä»¶å¤„ç†

### ç­–ç•¥å¼€å‘

```python
from strategies.base_strategy import BaseStrategy
from core.event_engine import EventType

class MyStrategy(BaseStrategy):
    def on_init(self):
        # ç­–ç•¥åˆå§‹åŒ–
        pass
        
    def on_bar(self, symbol, bar_data):
        # å¤„ç†Kçº¿æ•°æ®
        pass
        
    def on_tick(self, symbol, tick_data):
        # å¤„ç†å®æ—¶è¡Œæƒ…
        pass
```

### æ•°æ®ç®¡ç†

```python
from data_management.sources.market_data_source import MarketDataSource
from data_management.database_manager import DatabaseManager

# è·å–æ•°æ®
data_source = MarketDataSource()
data = data_source.get_stock_data("000001", "2024-01-01", "2024-12-31")

# å­˜å‚¨æ•°æ®
db_manager = DatabaseManager()
db_manager.store_data("k_daily", data)
```

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
python -m pytest tests/ -v

# è¿è¡Œç‰¹å®šæµ‹è¯•
python tests/test_event_engine.py
python tests/test_strategies.py
```

## ğŸ“ æ›´æ–°æ—¥å¿—

### v2.0.0 (2025-01)
- âœ… é‡æ„ä¸ºäº‹ä»¶é©±åŠ¨æ¶æ„
- âœ… æ¨¡å—åŒ–è®¾è®¡ï¼ŒèŒè´£æ¸…æ™°
- âœ… æ”¯æŒå¤šæ•°æ®æºå’Œäº¤æ˜“æ¥å£
- âœ… å®Œæ•´çš„å¯è§†åŒ–ç•Œé¢
- âœ… å®Œå–„çš„æµ‹è¯•è¦†ç›–

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ä¾›ä¸ªäººå­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ã€‚

---

**æ³¨æ„**: ä½¿ç”¨æœ¬ç³»ç»Ÿå‰è¯·ç¡®ä¿å·²æ­£ç¡®é…ç½®ç›¸å…³æ•°æ®æºçš„APIå¯†é’¥ï¼Œå¹¶éµå®ˆå„æ•°æ®æºçš„ä½¿ç”¨æ¡æ¬¾ã€‚
